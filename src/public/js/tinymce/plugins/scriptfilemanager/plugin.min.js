tinymce.PluginManager.add("scriptfilemanager",function(t){function e(e){t.focus(!0),t.windowManager.open({title:"Crip Filemanager",file:t.settings.external_filemanager_path+"?target=tinymce",width:r(),height:c()},{setUrl:n})}function n(e){t.insertContent(t.convertURL(e))}function i(){return document.getElementsByTagName("body")[0]}function r(){return(window.innerWidth||document.documentElement.clientWidth||i().clientWidth)-90}function c(){return(window.innerHeight||document.documentElement.clientHeight||i().clientHeight)-90}t.addButton("scriptfilemanager",{icon:!1,text:"My button",tooltip:"Insert file",shortcut:"Ctrl+E",onclick:e}),t.addShortcut("Ctrl+E","",e),t.addMenuItem("scriptfilemanager",{icon:"browse",text:"Insert file",shortcut:"Ctrl+E",onclick:e,context:"insert"})});