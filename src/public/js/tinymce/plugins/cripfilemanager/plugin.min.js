tinymce.PluginManager.requireLangPack("cripfilemanager","en_GB,lv,ru"),tinymce.PluginManager.add("cripfilemanager",function(e){function n(n){e.focus(!0),e.windowManager.open({title:"Crip Filemanager",file:e.settings.external_filemanager_path+"?target=tinymce",width:r(),height:c()},{setUrl:t})}function t(n){e.insertContent(e.convertURL(n))}function i(){return document.getElementsByTagName("body")[0]}function r(){return(window.innerWidth||document.documentElement.clientWidth||i().clientWidth)-90}function c(){return(window.innerHeight||document.documentElement.clientHeight||i().clientHeight)-90}e.addButton("cripfilemanager",{icon:"browse",tooltip:"Insert file",shortcut:"Ctrl+E",onclick:n}),e.addShortcut("Ctrl+E","",n),e.addMenuItem("cripfilemanager",{icon:"browse",text:"Insert file",shortcut:"Ctrl+E",onclick:n,context:"insert"})});