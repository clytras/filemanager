tinymce.PluginManager.add("filemanager",function(e){function n(n,t,r,a){function o(t){var i=a.document.getElementById(n);if(i.value=e.convertURL(t),"createEvent"in document){var c=document.createEvent("HTMLEvents");c.initEvent("change",!1,!0),i.dispatchEvent(c)}else i.fireEvent("onchange")}var d="?target=tinymce&type="+r;e.windowManager.open({file:e.settings.external_filemanager_path+d,title:"Crip Filemanager",width:i(),height:c()},{setUrl:o})}function t(){return document.getElementsByTagName("body")[0]}function i(){return(window.innerWidth||document.documentElement.clientWidth||t().clientWidth)-90}function c(){return(window.innerHeight||document.documentElement.clientHeight||t().clientHeight)-90}return tinymce.activeEditor.settings.file_browser_callback=n});